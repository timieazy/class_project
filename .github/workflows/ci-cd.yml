# .gitlab-ci.yml
name: Tim_cicd
run-name: ${{ github.actor }} is learning GitHub Actions
on: [push]
jobs:
  check-bats-version:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

stages:
  - test
  - deploy

test:
  stage: test
  script:
    - pip install -r requirements.txt
    -pytest

deploy:
  stage: deploy
  script:
    - pip install -r requirements.txt
    - gunicorn -w 4 -b 0.0.0.0:8000 app:app
